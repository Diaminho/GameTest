<!DOCTYPE html>
<script type="text/javascript">
    let startTime = new Date().getTime();
</script>
<head xmlns:th="http://www.w3.org/1999/xhtml">
    <script src="scripts/playerScripts.js"></script>
    <title>Дуэль</title>
    <link rel="stylesheet" th:href="@{/css/main.css}"/>
</head>
    <body xmlns:th="http://www.w3.org/1999/xhtml">
        <div class="wrapper">
            <div class="content">
                <h1 th:text="'Начинается дуэль, ' + ${player.login}" />
                <table align="center" cellspacing="5" cellpadding="5">
                    <tr>
                        <td> <p th:text="'Вы: ' + ${player.login}" /> </td>
                        <td> <p th:text="'Ваш оппонент: ' + ${opponent.login}" /> </td>
                    </tr>
                    <tr>
                        <td> <p th:text="'Ваш показатель жизни: ' + ${player.hp}" /> </td>
                        <td> <p th:text="'Показатель жизни соперника: ' + ${opponent.hp}" /> </td>
                    </tr>
                    <tr>
                        <td>
                            <progress th:max=${playerHpBeforeDuel} th:value=${player.hp} />
                        </td>
                        <td>
                            <progress th:max=${opponentHpBeforeDuel} th:value=${opponent.hp} />
                        </td>
                    </tr>
                </table>
                <script type="text/javascript">
                    console.log("${isLoading}");
                    setInterval(() => updateDuelStatus("1111"), 1000);
                </script>

                <p>
                    <form action="attack" method="post">
                        <input type="submit" value="Атака">
                    </form>
                </p>
                <p>
                    <form action="menu" method="post">
                        <input type="submit" value="Выйти">
                    </form>
                </p>
            </div>
            <div class="footer">
                <p th:text="${info}"/>
                <p id="generationTime"></p>
                <script type="text/javascript">
                    let elapsedTime = new Date().getTime() - startTime;
                    document.getElementById("generationTime").innerHTML = "page: " + elapsedTime + " ms";
                </script>
            </div>
        </div>
    </body>
</html>